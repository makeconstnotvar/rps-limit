# План рефакторинга периода в алгоритмах ограничения трафика

## 1. Анализ текущей реализации

- Изучить все файлы алгоритмов в папке `client/algorithms/`
- Изучить зависимые компоненты и модули, которые используют эти алгоритмы
- Выявить все места, где используется параметр `windowSize`

## 2. Создание константы на верхнем уровне

- Создать новый файл `client/algorithms/constants.js`
- Определить константу `WINDOW_SIZE` со значением 10000 (10 секунд)
- Добавить экспорт константы

## 3. Модификация файла алгоритмов

### 3.1. Изменить `client/algorithms/algorithmInterface.js`
- Импортировать константу `WINDOW_SIZE`
- Заменить хардкодное значение `10000` на использование `WINDOW_SIZE`

### 3.2. Изменить `client/algorithms/fixedWindow.js`
- Импортировать константу `WINDOW_SIZE`
- Использовать её вместо получения windowSize из параметров

### 3.3. Изменить `client/algorithms/slidingLog.js`
- Импортировать константу `WINDOW_SIZE`
- Использовать её вместо получения windowSize из параметров

### 3.4. Изменить `client/algorithms/slidingCounter.js`
- Импортировать константу `WINDOW_SIZE`
- Использовать её вместо получения windowSize из параметров

### 3.5. Изменить `client/algorithms/tokenBucket.js`
- При необходимости добавить использование `WINDOW_SIZE`

### 3.6. Изменить `client/algorithms/leakyBucket.js`
- При необходимости добавить использование `WINDOW_SIZE`

## 4. Модификация серверных файлов

### 4.1. Изменить `server/getRateLimiter.js`
- Заменить хардкодное значение `10000` на константу или переменную

### 4.2. Обновить серверные файлы алгоритмов в `server/limiters/`
- Заменить хардкодные значения `windowSize` в файлах на единую константу

## 5. Исправление дополнительных файлов

- Проверить файлы в `client/illustrations/` и при необходимости обновить использование WINDOW_SIZE
- Проверить файлы в `client/hooks/useRateLimiter.js` для использования константы